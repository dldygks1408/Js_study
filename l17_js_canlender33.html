<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../css/l17_calendar.css">
    <title>js calendar</title>
  </head>
  <body>
    <article>
      <h2>Date 클래스</h2>
      <ul>
        <li>new Date().toSting() :
          <script>document.write(new Date())</script>
        </li>
        <li>Number(new Date()) :
          <script>document.write(Number(new Date()))</script>
        </li>
        <li>Number(new Date("1970-01-01")) :
          <script>document.write(Number(new Date("1970-01-01")))</script>
        </li>
        <li>(new Date(year,month(0~11),day(0~),hours,min,s,ms))
        </li>
        <li>new Date(2021,8) :
          <script>document.write(new Date(2021,8))</script>
        </li>
        <li>new Date().setFullYear(2021,8,1) :
          <script>document.write(new Date().setFullYear(2021,8,1))</script>
        </li>
        <li>new Date(날짜).getDay() : 0~6(일~토)</li>
        <li>new Date(2021,8,1).getDay() :
          <script>document.write(new Date(2021,8,1).getDay())</script>
        </li>
        <li>new Date(날짜)getDate() : 해당하는 day를 출력
          (0을 넣으면 해당 월의 전달의 마지막 일을 알수 있다.)
        </li>
        <li>new Date(2021,8,0).getDate() :
          <script>document.write(new Date(2021,8,0))</script>
        </li>
    </article>
    <article>
      <h2>Element.classList</h2>
      <p> html 배열 타입으로 자바스크립트 배열과는 다른 함수를 제공한다.</p>
      <p>요소는 복수의 클래스를 가질 수 있다.</p>
      <p>Element.class = "a b c" (사용하지않음)</p>
      <p>Element.classList = [a, b, c] (O)</p>
      <p>스타일이 적용된 클래스를 추가 삭제하기 위해 많이 사용된다.</p>
      <ul>
        <li>classList.add("ClassName") : array.push() 비슷한 함수로 클래스를 추가한다.</li>
        <li>classList.remove("ClassName") : array.slice() 비슷한 함수로 클래스를 제거한다.</li>
        <li>classList.toggle("ClassName") : 해당 클래스가 있으면 삭제 없으면 추가</li>
      </ul>
    </article>
    <h1>(일정 등록되는)달력 만들기</h1>
    <h2>
       <button type="button">2021년 8월</button>
       <span id="toDate">2021년 9월</span>
       <button type="button">2021년 10월</button>
     </h2>
    <table id="calendarTable">
      <thead>
        <tr>
          <th>일</th>
          <th>월</th>
          <th>화</th>
          <th>수</th>
          <th>목</th>
          <th>금</th>
          <th>토</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
  <script>
//const tdList= document.getElementById("calendarTable").getElementsByTagName("td");
const tdList= document.querySelectorAll("#calendarTable td");
console.log(tdList);
//td에 마우스를 올리면 .schedule의 상태를 보이게 바꾼다. (mouseover)
//마우스를 td에서 나가면 .schedule을 보이지 않게 한다. (mouseleave)
//mouseover+mouseleave=hover
//onmouseover/mouseout : 하위(자식) 요소(element)에 이벤트를 전달한다.
//onmouseenter/mouseleave : 이벤트 전달을 하지 않는다.

//jquery $(.scheduel).hover(function(this){})

for(td of tdList){
  td.onmouseenter=(event)=>{
    //console.log(this);
    //this는 블럭 안의 요소 또는 이벤트가 발생한 대상 요소
    //화살표 함수는 this를 자바스크립트 최상위 부모인 window로 받는다.(블럭을 무시)
    //console.log(td);
    //console.log(event.target);
    event.target.querySelector(".schedule").style.visibility="visible";
  }
  //element.addEventListener("event명",()=>{});
  td.addEventListener("mouseleave",function(event){
    event.target.querySelector(".schedule").style.visibility="hidden";
  })
}
//9월 마지막 일 구하기
let lastDay=new Date(2021,9,0).getDate();
//9월의 시작하는 요일 구하기
let firstDay=new Date(2021,8,1).getDay();
//let a=1,b=2;
for(let i=firstDay,d=1; i<lastDay+firstDay; i++){
  tdList[i].querySelector(".day").innerText=d++;
  tdList[i].classList.add("active");
}
  //tdList[2].querySelector(".day").innerText=31;
  //tdList[1].querySelector(".day").innerText=30;
  //tdList[0].querySelector(".day").innerText=29;
let lastMonth=new Date(2021,8,0).getDate();
console.log(lastMonth);
for(let i=2; i>=0; i--){}
for(let i=firstDay-1; i>=0; i--){
  tdList[i].querySelector(".day").innerText=lastMonth--;
  //tdList[i].style.color="rgb(130,150,150)";
  //tdList[i].style.backgroundColor="rgb(230,230,240)";
  tdList[i].classList.add("disabled");
}
//element.classList : 복수로 지정된 클래스를 배열로 받아온다.
//classList.add("") : 클래스를 더한다.
//classList.remove("") : 클래스를 삭제
//classList.toggle("") : 있으면 삭제, 없으면 더한다.
let nextMonth=firstDay+lastDay
// tdList[nextMonth].querySelector(".day").innerText=1;
// tdList[nextMonth+1].querySelector(".day").innerText=2;
// tdList[nextMonth+2].querySelector(".day").innerText=3;
// tdList[nextMonth+3].querySelector(".day").innerText=4;
// tdList[nextMonth+4].querySelector(".day").innerText=5;
// tdList[nextMonth+5].querySelector(".day").innerText=6;
// tdList[nextMonth+6].querySelector(".day").innerText=7;
// tdList[nextMonth+7].querySelector(".day").innerText=8;
// tdList[tdList.length-1].querySelector(".day").innerText=9;
//for(시작점; 끝점; (+-)방향;)
for(let i=nextMonth,num=1; i<=tdList.length-1; i++){
  tdList[i].querySelector(".day").innerText=num++;
  tdList[i].classList.add("disabled");
}

</script>
</html>
