<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css\l17_cal.css">
    <title>js calendar</title>
  </head>
  <body>
    <!-- table#calendarTable>thead>tr>(th{일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토})>tbody>(tr>td*7)*6-->
    <!-- table#calendarTable>thead>tr>(th{일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토})>tbody>(tr>td{$$}*7)*6 -->
    <!-- table#calendarTable>thead>tr>(th{일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토})>tbody>(tr>td(div.day_container>ul>h5.day)*7)*6 -->
    <!-- table#calendarTable>thead>tr>(th{일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토})>tbody>(tr>td(div.day_container>h5.day+ul>li{할일}*5)*7)*6 -->
        <!-- table#calendarTable>thead>tr>(th*7){일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토})>tbody>(tr>td(div.day_container>h5.day+ul>li*5)*7)*6 -->
            <!-- table#calendarTable>(thead>tr>(th{일}+th{월}+th{화}+th{수}+th{목}+th{금}+th{토}))+tbody>(tr>td(div.day_container>h5.day+ul.schedule>li*5)*7)*6      -->
      <article>
        <h2>Date 클래스</h2>
        <ul>
          <li>new Date().toString(): <script>document.write(new Date())</script></li>
          <li>Number(new Date()): <script>document.write(Number(new Date()))</script></li>
          <li>Number(new Date()): <script>document.write(Number(new Date(1970,0,1)))</script></li>
          <li>Number(new Date("1970-01-01")) <script>document.write(Number(new Date("1970-01-01")))</script></li>
          <li>Number(new Date(year,month(0~11),day(0),hours,min,s,ms))</li>
          <li>new Date(2021,8) :<script>document.write(new Date(2021,8))</script></li>
          <li>new Date().setFullYear :<script>document.write(new Date().setFullYear(2021,8,1))</script></li>
          <li>new Date(날짜).getday() : 0~6(일~토) </li>
          <li>new Date(2021,8,1).getDay() : <!--달은 0부터 시작해서 8==9--> <script>document.write(new Date(2021,8,1).getDay())</script></li>
          <li>new Date(날짜).getDate(): 해당하는 day를 출력
          (이때 0을 넣으면 해당 월의 전달 마지막 일을 알수 있음)
          ex) 9월의 마지막 일을 알고싶으면 (2021,10,0)으로 쓰면됨
        </li>
          <li>new Date(2021,8,0).getDate() :<script>document.write(new Date(2021,9,0).getDate())</script></li>
        </ul>
      </article>
      <article>
        <h2>Element.classList</h2>
        <p> html 배열 타입으로 자바스크립트 배열과는 다른 함수를 제공한다.</p>
        <p>요소는 복수의 클래스를 가질 수 있다.</p>
        <p>Element.class = "a b c" (사용하지 않음)</p>
        <p>Element.classList = [a, b, c] (O)</p>
        <p>add("className") : array.push() 와 비슷한 함수로 클래스를 추가한다.</p>
        <p>remove("ClassName") : array.slice()와 비슷한 함수로 클래스를 제거한다.</p>
        <p>toggle("ClassName") : 해당 클레스가 있으면 삭제 없으면 추가</p>
      </article>
        <h1>달력 만들기</h1>
        <h2><button>2021년 8월</button>
          <span id="toDate">2021년 9월 </span>
          <button>2021년 10월</button></h2>
          <table id="calendarTable">
                 <thead>
                   <tr>
                     <th>일</th>
                     <th>월</th>
                     <th>화</th>
                     <th>수</th>
                     <th>목</th>
                     <th>금</th>
                     <th>토</th>
                     <tbody>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                         <td>
                           <div class="day_container">
                             <h5 class="day"></h5>
                             <ul class="schedule">
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                               <li></li>
                             </ul>
                           </div>
                         </td>
                       </tr>
                     </tbody>
                   </tr>
                 </thead>
               </table>
        <script>
            const tdList= document.querySelectorAll("#calendarTable td");
            // console.log(tdList);
            // tdList.forEach((td)=>{
              //td에 마우스를 올리면 .schedule의 상태를 보이게 바꾼다. (mouseover)
              //마우스를 td에서 나가면 .schedule을 보이지 않게 한다. (mouseleave)
              // mouseover + mouseleave = hover
              //mouseover / mouseout : 하위 ( 자식 ) 요소 (element)에 이벤트를 전달한다.
              //mouseenter / mouseleave: 이벤트 전달을 하지 않는다.
              // td.onclick=()=>{
              //   let schedule=td.querySelector(".schedule");
              //   schedule.style.display="block";
              // }
            // })
            for (td of tdList){
              td.onmouseenter=(event)=>{
                // console.log(td);
                // console.log(event);
                //this는 블록 안의 요소 또는 이벤트가 발생한 대상 요소
                //td.onmouseenter=()=>{} :화살표 함수는 this를 자바스크립트 최상위 부모인 window로 받는다.
                //()=>{}  화살표 함수의 this는 블록을 벗어나 window로 받는다. (블록을 무시)
            event.target.querySelector(".schedule").style.visibility="visible"
              }
              td.addEventListener("mouseleave",function(event){
                event.target.querySelector(".schedule").style.visibility="hidden";
              })
            }
            //9월 마지막 일 구하기
            let lastDay = new Date(2021,9,0).getDate();
            //9월의 시작하는 요일 구하기
            let firstDay=new Date(2021,8,1).getDay();
            const d=1;
            for(let i=firstDay,d=1; i<lastDay+firstDay; i++){
              // console.log(tdList[i]);
              tdList[i].querySelector(".day").innerText = d++;

            }
            // let ninelast=new Date(2021,8,0).getDate();
            // let nineDay=new Date(2021,7,1).getDay(); //8월의 시작은 일요일이라 0
            // console.log(ninelast);
            // console.log(nineDay);
            let lastMonth=new Date(2021,8,0).getDate();
            console.log(lastMonth);
            for(let i=firstDay-1; i>=0; i--){

              tdList[i].querySelector(".day").innerText =lastMonth--;
              tdList[i].classList.add("disabled");
              // tdList[i].style.color="rgb(130,150,150)";
              // tdList[i].style.backgroundColor="rgb(230,230,240)";
              // console.log(tdList[i].querySelector(".day").classList)

            }
            //element.classList: 복수로 지정된 클래스를 배열로 받아온다.
            //classList.add("") : 클래스를 더한다.
            //classList.remove("") : 클래스를 삭제
            //classList.toggle("") : 있으면 삭제, 없으면 더하기
            let nextMonth=firstDay+lastDay;
            for(let i=nextMonth,num=1; i<=tdList.length-1; i++){
              tdList[i].querySelector(".day").innerText=num++;
              tdList[i].classList.add("disabled");
            }
        </script>
  </body>
</html>
